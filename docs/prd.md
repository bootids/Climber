游戏设计文档 (GDD)：沉积年代 (Sediment)

## 文档信息

  * **版本号**： v2.0
  * **文档类型**： 核心设计与需求规格说明书 (Core Design & Tech Specs)
  * **核心体验**： 纯 UI + 文本驱动的历史考古模拟器 + 线性VTD精密操控 + 双轨制资源经济
  * **备选名称**： 拾荒者高地 (The Scavenger Heights)

-----

## 0\. 核心名词解释 (Glossary & Key Concepts)

为了确保开发团队（程序/策划/美术）理解一致，以下定义为项目的底层公理：

### 0.1 世界观公理 (World Axioms)

  * **时间堆积 (Time Sedimentation)**： 物理时间不再向前流动，而是像沉积岩一样向上堆叠。海拔越高，年代越古老。
    * `0m = 末日废土` (现代废墟，灰烬海)
    * `4000m = 二战时期` (历史断层)
    * `8000m = 远古时代` (非欧几何带)
  * **核心隐喻**： "攀登即考古，高处即过去。"
  * **玩家身份**： **记忆修补匠 (Mnemo-Fixer)**。身穿重型防护服、佩戴全息面罩的登山者。隶属于"档案馆"，任务是回收位于不同历史断层的"关键锚点"以揭开大停滞的真相。
  * **屏幕定义**： 显示器 = 头盔面罩 (Visor)。UI 是直接投射在视网膜/面罩玻璃上的 AR 信息。
  * **黑色方碑 (Black Box)**： 前任修补匠的尸体/黑匣子，既是路标也是叙事碎片。包含死者的记忆片段和关键信息。

### 0.2 核心机制术语

  * **动能势能 (Kinetic Potential, KP)**： 游戏内的核心货币，不再限制移动。仅用于购买补给、升级装备、呼叫救援。通过节点结算、探索发现获取。
  * **体力 (Stamina)**： 移动的直接燃料。移动时直接消耗体力，消耗速率受地形阻力系数 (Drag Coefficient) 影响（如碎石坡、深雪）。通过消耗物资/扎营休息来恢复。
  * **线性矢量微调滑尺 (Linear Vector Trim Dial, VTD)**： 玩家用于手动设定横向偏移量的线性水平滑尺 UI 控件。带刻度的标尺（-20m ... 0m ... +20m），中间有指针。鼠标移动距离与游戏内偏移量对应，模拟身体重心调整。
  * **虚拟走廊 (Virtual Corridor)**： 游戏中的"路"不是一维线条，而是一个具有"宽度"的二维带状区域（带宽）。
  * **横向偏移 (Lateral Offset)**： 玩家相对于"正确路径中心线"的垂直距离。
    * `Offset = 0m`: 安全，位于路中央。
    * `Offset > 5m`: 路边，适合建造玛尼堆。
    * `Offset > 50m`: 危险区，触发滑坠判定或遭遇隐藏事件。
  * **红区压迫 (The Red Noise)**： 动态信号丢失区。地图底部出现的红色噪点/马赛克，像进度条一样向上吞噬 UI。代表"时间崩塌"的威胁，玩家必须在"长按推进逃命（消耗大量体力）"和"精准卡在红区边缘休息（赌命）"之间博弈。
  * **幽灵频段 (Ghost Frequency)**： VTD 仪表上的幻影光标。代表 NPC 当年的移动轨迹。玩家需手动微调鼠标使自身重心与幽灵光标重叠，保持重叠时体力消耗减半（尾流效应），且日志栏会刷新特定颜色的 NPC 剧情文本。
  * **相位调谐 (Phase Tuning)**： 主动挖掘机制。在特定地点驻足，滚动鼠标滚轮（模拟调节焦距/旋钮），寻找清晰的历史音频信号（文本回放）。
  * **视差解谜 (Parallax Puzzle)**： 利用 SAN 值系统。低 SAN 值（幻觉状态）下才能看到某些被隐藏的历史路径（如穿过全息伪装的墙）。
  * **矢量解耦 (Vector Decoupling)**： "迷路"的程序实现方式。此时 VTD 仪表欺诈：UI 显示在 0m（主路），但实际坐标已偏移。真相在文字里：滚动日志会提示与 UI 矛盾的信息（如"风向不对"、"有树枝刮擦"）。玩家需根据文字线索逻辑推理出偏差值，手动反向调整重心进行盲操作补偿。
  * **幻觉渲染 (Ghost Rendering)**： 客户端欺诈机制。在低 SAN 值下，UI 层渲染不存在的路径点，诱导玩家走向深渊。
  * **时间术语统一**：
    * **时间潮汐 (Time Tides)**： 由"自然四季"重构为历史时期的时间流动模式。
      * **复苏潮 (原春)**：钢铁生锈发芽，病毒滋生。
      * **辐射潮 (原夏)**：历史余烬辐射，高曝光，SAN 值狂掉。
      * **熵解潮 (原秋)**：风化加速，物理结构脆弱，落石多。
      * **静滞潮 (原冬)**：绝对零度，物理最稳定，适合冲刺。
    * **运营赛季 (Live Season)**：商业化和活动周期（如 Battle Pass），时长可变。
  * **代际继承 (Legacy)**： 死亡不是终结，下一位修补匠可继承前人的部分"基因"与"地图数据"。
  * **业力 (Karma)**： 隐藏的人品值系统，影响随机事件的倾向与幻觉的性质。

-----

## 1\. 游戏概述 (Overview)

### 1.1 核心循环 (Core Loop) - 文本驱动的历史考古 (Text-Driven Historical Archaeology)

**设计理念**： 游戏明确为纯 UI + 文本驱动（无 3D 角色渲染），所有动态机制均进行符号化抽象。交互设计旨在将“手指的点击”转化为“全身的代入”。

1.  **按住推进 (Hold to Move)**： 玩家按住 **[Space] 空格键** 驱动角色前进。意志力的具象化。利用空格键的长键程和回弹力，模拟迈出沉重步伐的费力感。手指的酸痛映射腿部的疲劳。
2.  **文本监视 (The Vigilant Walker)**： 行进中，玩家必须透过**面罩 UI** 盯着屏幕上方不断刷新的滚动日志。从文字中捕捉危险信号（如"冰裂声"、"脚感变软"、"碾压判定：致命"），并在危机发生前主动松手做出决策。
3.  **红区压迫 (The Red Noise)**： 地图底部出现的红色噪点/马赛克，像进度条一样向上吞噬 UI。滚动日志被乱码和红色警告污染。玩家必须在"长按推进逃命（消耗大量体力）"和"精准卡在红区边缘休息（赌命）"之间博弈。
4.  **VTD 平衡 (Balance)**： **鼠标横向移动**模拟身体重心的倾斜。不再是推滑块，而是模拟在狂风中通过微调身体重心（鼠标）来保持平衡（VTD 居中）。
5.  **幽灵频段 (Ghost Frequency)**： VTD 滑尺上出现一个半透明的、自动移动的"幽灵光标"（代表 NPC 当年的移动轨迹）。玩家需手动操控鼠标与幽灵光标重叠。保持重叠时，体力消耗减半（尾流效应），且日志栏会刷新特定颜色的 NPC 剧情文本。
6.  **相位调谐 (Phase Tuning)**： 在特定地点驻足，**滚动鼠标滚轮**调节信号焦距，寻找清晰的历史音频信号（文本回放）。
7.  **双轨制资源管理**： 体力 = 燃料（移动直接消耗）；KP = 货币（购买补给、升级装备、呼叫救援）。体力通过消耗物资/扎营休息来恢复。
8.  **信息博弈**： 遇到迷路时，VTD 仪表可能欺诈显示，玩家需根据滚动日志的文字线索进行逻辑推理和盲操作补偿。
9.  **危机阻断**： 遇到重大危机（如滑坠、红区吞噬），系统强制暂停，弹出黑底白字的选择题（风险博弈），而非倒计时点击。
10. **异步社交**： 救援路边的"红色信标"（其他玩家）或交换玛尼堆物资。

### 1.2 合规与安全

  * **GPX 重构**： 参考真实地形但进行非线性坐标偏移，使用化名（如"四姑娘山"→"四姐妹峰"）。
  * **启动警示**： 强制弹窗"严禁模仿游戏行为前往未开发区域"。

### 1.3 终局目标 (Endgame)

  * **长期目标**： 回收位于不同历史断层的"关键锚点"，揭开大停滞的真相。
  * **碎片化叙事**： 通过收集"黑色方碑"日志和环境线索，构建碎片化叙事，支撑长期游玩动机。
  * **哲学抉择**： 终局关于是否"拔出针"（恢复时间但毁灭世界）的哲学抉择。

-----

## 2\. 视听与大气沉浸系统 (Audio-Visual & Atmosphere)

本系统核心目标是利用 PC 硬件特性，将"感官剥夺"带来的幽闭恐惧最大化。用"面罩 UI"替代"手机屏幕"。

### 2.1 视觉表现与面罩物理化 (Visuals & Diegetic HUD)

*   **画幅调整**： 适配 PC 显示器，采用横向 (Landscape 16:9 / 21:9) 布局。
*   **面罩物理化 (Diegetic HUD)**：
    *   **呼吸雾气**： 静止或喘息时，屏幕边缘出现有节奏的白雾，随体力消耗加剧。
    *   **环境积秽**： 屏幕会积雪、结霜、沾染泥点。
    *   **损伤反馈**： 低血量或撞击时，屏幕（面罩玻璃）出现裂纹或信号坏点。
*   **交互动作**：
    *   **擦拭面罩**： 按下 **[F]** 键或剧烈晃动鼠标，清理遮挡 UI 的视线干扰（积雪/泥点）。
    *   **长眨眼 (Long Blink)**： 极度疲劳时，模拟眼皮沉重，画面上下边缘向中间闭合再猛然睁开。

### 2.2 听觉设计：幽闭空间 (Audio Claustrophobia)

PC 玩家通常佩戴耳机，音效设计从"环境音"转向"颅内音"。

*   **呼吸声 (Breathing)**： 核心音源。平稳、急促、屏息的心跳，都紧贴玩家耳边（立体声场极近）。
*   **骨传导 (Bone Conduction)**： 脚步声不是清脆的踩雪声，而是低沉的、通过骨骼传导的"咚、咚"声，体现负重感。
*   **隔绝感**： 外部的风雪声是被头盔阻隔后的闷响，只有 UI 的报警声是清晰刺耳的。

### 2.3 基础色调矩阵 (Base Tone Matrix)

根据 [游戏内时间] 和 [地形类型] 决定屏幕的主色调与背景材质。

| 地形 (Terrain) | 白天 (Day / 06:00–18:00)         | 夜晚 (Night / 18:00–06:00)     | 特殊材质        | 动态带宽（Dynamic Width） |
| -------------- | -------------------------------- | ------------------------------ | --------------- | ------------------------- |
| 密林 (Forest)  | 墨绿色（高饱和度，光斑闪烁）     | 深渊黑（几乎不可见，仅有轮廓） | 树影摇晃遮挡 UI | 极窄 (容易触碰边界)       |
| 雪山 (Snow)    | 刺眼白（高亮度，甚至过曝）       | 普鲁士蓝（冷色调，月光感）     | 屏幕边缘结霜    | 中等                      |
| 泥泞 (Mud)     | 土黄色（浑浊，低对比度）         | 灰褐色（压抑，噪点重）         | 泥点溅射效果    | 窄                        |
| 洞穴 (Cave)    | 灰黑色（视野受限，仅手电筒光圈） | 纯黑（完全依赖声呐/地图）      | 回声波纹可视化  | 宽阔（不易迷路）          |

### 2.4 动态天气图层 (Dynamic Weather Layers)

在基础色调之上，叠加全屏粒子特效与滤镜。

- [晴朗]:
  * **特效**: 镜头光晕 (Lens Flare)，随鼠标视角移动。
  * **滤镜**: 清晰度 +20%，色彩鲜艳。

- [起雾] (Fog):
  * **特效**: 动态流动的云雾遮罩，通过 Perlin Noise 生成。
  * **滤镜**: 对比度 -30%，饱和度 -40%，景深模糊 (Blur) 增强。
  * **UI影响**: 远处的地图节点不可见，距离数字模糊跳动，文本区域可见区域减少（比如从全文本区域清晰到只可见1-3行文字）。

- [飘雪] (Snow):
  * **特效**: 屏幕前景飘落白色粒子，根据风向改变飘落角度。
  * **交互**: 粒子会堆积在面罩玻璃上，遮挡视线，需要按 **[F]** 键或甩动鼠标擦拭。

- [暴雨] (Rain):
  * **特效**: 屏幕上有雨水滑落的扭曲折射效果 (Refraction)。
  * **滤镜**: 整体色调偏蓝冷，伴随随机的白屏闪烁（雷电）。

### 2.5 时间潮汐滤镜 (Time Tides Grading)

叠加在最上层的颜色分级 (Color Grading)。由"自然四季"重构为历史时期的时间流动模式。

- **复苏潮 (原春)**： 偏绿/青色，胶片感。钢铁生锈发芽，病毒滋生。视觉：锈迹斑斑的金属纹理，绿色霉菌蔓延。

- **辐射潮 (原夏)**： 偏红/橙色，高曝光，模拟热浪扭曲 (Heat Haze)。历史余烬辐射，高曝光，SAN 值狂掉。视觉：过曝的红色噪点，放射性警告符号闪烁。

- **熵解潮 (原秋)**： 偏黄/金，高对比度，锐利。风化加速，物理结构脆弱，落石多。视觉：风化的裂纹纹理，碎石粒子效果。

- **静滞潮 (原冬)**： 偏蓝/白，低饱和度，冷峻。绝对零度，物理最稳定，适合冲刺。视觉：冰晶效果，时间冻结的静态感。

-----

## 3\. 导航与迷路机制 (Navigation)

本系统不使用传统小地图，而是模拟一个 **"不可靠的、低电量的战术终端"**。

### 3.0 地图底层架构：模块化磁带 (Refined Map Architecture)

为了解决开发量并保留博弈空间，地图采用相对坐标与配置化生成。

* **数据结构**：`Segment (路段)` + `Lateral Profile (横截面配置)`。
    * 不手动绘制每一米悬崖，而是配置 `Profile_Cliff_Right`（右侧悬崖），系统自动判定 Offset > X 即为滑坠。
* **视觉与逻辑分离**：
    * **逻辑层**：笔直的磁带，用于数值判定（距离 D，偏移 O）。
    * **视觉层**：通过参数（弯曲度 Curvature）渲染蜿蜒路径。
* **坐标系**：
    * **D (Distance)**: 纵向里程。
    * **O (Offset)**: 横向偏移。
    * **物体判定**：基于 `(D, O)` 的纯数值距离判定，取代物理碰撞引擎。

### 3.1 动态感知系统 (Dynamic Perception System)

UI 不再是客观的"上帝地图"，而是角色感官的模拟。
**核心公式**：`最终画面 = (自然视力 + 装备增益) * 环境减益 + 主动声纳`

#### A. 自然视力 (Natural Vision) - 被动层
* **白昼/晴朗**：全知视角。
    * UI 显示清晰的网格地图，悬崖边界可见。
    * *目的*：降低赶路压力，让玩家专注于资源管理和应对地形材质。
* **黑夜**：盲目视角。
    * UI 全黑，仅保留玩家脚下极小范围（1-2m）的光圈。
    * *目的*：制造对未知的恐惧。

#### B. 主动探测 (Active Sonar/PING) - 瞬间层
* **功能分化**：
    * **夜间 PING**：**回声定位**。发出波纹照亮黑暗中的地形轮廓（持续 3-5秒），看清悬崖位置。
    * **日间 PING**：**材质探伤**。肉眼看起来平整的雪地，PING 之后可能显示出橙色警告纹理（薄冰、空心雪桥）。

### 3.2 基础显示与反馈 

  * **载体**： 圆形液晶表盘，根据白天夜晚动态背景，带有动态噪点滤镜。
  * **中心线 (Centerline)**： 绘制一条实线代表正确路径。
  * **玩家光点**： 正常状态下位于中心线上。
  * **海拔剖面 (Elevation Profile)**： 地图下方的小矩形区域，显示 Z 轴波浪线。
  * **体验**： 看到前方巨大的波峰（爬升 1000m）会给玩家带来直观的心理压力。
  * **战争迷雾**： 仅渲染当前路段及下一节点，远处完全黑屏/无信号。
  * **偏移指示器 (Offset Indicator)**： 必须在 UI 上明确显示当前偏移值、偏移速度/方向（例：Offset: 15m | Drift: → 2m/s），并根据危险等级变色（绿/黄/红）。
  * **足迹回溯 (Trail View)**： 可激活的短期视图，显示最近几步的实际移动轨迹。
  * **虚拟走廊可视化**： 必须用视觉元素（如噪点强度变化）标示出走廊的安全区和危险区边界。

### 3.3 线性矢量微调滑尺 (Linear VTD) 

  * **UI 实现**： 位于屏幕底部的线性水平滑尺 (Linear Sliding Ruler)。
  * **视觉设计**： 带刻度的标尺（-20m ... 0m ... +20m），中间有指针指示当前偏移量。
  * **交互逻辑**：
    * **鼠标映射**：**鼠标横向移动**控制 VTD 指针。模拟身体重心的微调。
    * **用途**：通过移动鼠标抵消环境风力，或主动设定偏移量以绕过障碍。
    * **手感反馈**：指针移动具有物理惯性，模拟在厚重防护服下的笨拙感。
  * **主动探索代价**： 偏离中心线会增加体力消耗速率（受地形阻力系数影响）。

### 3.3.1 幽灵频段 (Ghost Frequency) - NPC 同行机制

**设计理念**： 将原 3D NPC 投影跟随机制符号化为 VTD 仪表上的幻影光标。

  * **视觉表现**： VTD 滑尺上出现一个半透明的、自动移动的"幽灵光标"（代表 NPC 当年的移动轨迹）。
  * **玩法机制**： 
    * 玩家需手动移动鼠标使自身指针与幽灵光标重叠（调频同步）。
    * 保持重叠时，体力消耗减半（尾流效应）。
    * 日志栏会刷新特定颜色的 NPC 剧情文本（区别于系统日志的颜色）。
  * **触发条件**： 在特定历史断层（如 1500-4500m 的历史断层区域）遇到 NPC 的"记忆残影"。
  * **奖励机制**： 成功同步后，解锁该 NPC 的完整记忆片段，推进主线剧情。

### 3.3.2 相位调谐 (Phase Tuning) - 主动探索机制

**设计理念**： 将原"探索发现"机制符号化为收音机调频操作。

  * **触发条件**： 在特定地点驻足（松手停止推进），系统提示"检测到历史信号"。
  * **玩法机制**：
    * VTD 进入"调谐模式"。
    * **滚动鼠标滚轮**模拟调节收音机旋钮，寻找清晰的历史音频信号（文本回放）。
    * 信号强度通过 UI 上的波形图显示，玩家需要找到"峰值"位置。
  * **奖励**： 成功调谐后，播放该地点的历史记忆片段（文本叙事），解锁关键锚点信息。
  * **代价**： 调谐过程消耗时间，可能被红区压迫追上。

### 3.3.3 红区压迫 (The Red Noise) - 怪物追逐机制

**设计理念**： 将原 3D 怪物/坦克追逐机制符号化为动态信号丢失区。

  * **视觉表现**：
    * 地图底部出现的红色噪点/马赛克，像进度条一样向上吞噬 UI。
    * 滚动日志被乱码和红色警告（如"碾压判定：致命"）污染。
    * 随着红区接近，屏幕边缘出现红色闪烁和信号干扰效果。
  * **玩法机制**：
    * 玩家必须在"长按推进逃命（消耗大量体力）"和"精准卡在红区边缘休息（赌命）"之间博弈。
    * 红区吞噬到玩家位置 = 死亡（被时间崩塌吞噬）。
    * 红区速度根据当前海拔和历史时期动态调整（高海拔区域红区移动更快）。
  * **触发条件**：
    * 在特定历史断层停留过久。
    * 触发某些关键事件后，红区开始追击。
    * 某些区域（如以太风暴带）红区持续存在。
  * **逃脱机制**：
    * 快速推进到下一个历史避难所（检查点）。
    * 使用特殊道具（如"时间锚点"）暂时冻结红区。
    * 进入低 SAN 值状态，利用视差解谜找到隐藏路径。

### 3.4 迷路机制：信息博弈 (Information War) - 矢量解耦重构

**核心定义**：矢量解耦 (Vector Decoupling) = VTD 仪表欺诈。迷路 = UI 撒谎但真相在文字里。

**表现机制**：

  * **UI 欺诈层**： VTD 标尺显示在 0m（主路），但实际坐标已偏移。玩家看到的是"正常"的仪表读数。
  * **真相在文字里**： 滚动日志会提示与 UI 矛盾的信息：
    * "风向不对，感觉被推向右"
    * "有树枝刮擦左侧，但仪表显示在中央"
    * "脚下的石头纹理与预期不符"
  * **逻辑推理**： 玩家必须根据文字线索，逻辑推理出偏差值，手动反向拖动滑尺进行盲操作补偿。

**解法机制**：

  * **软修正（推荐）**： 玩家根据文字线索，逻辑推理出偏差值，手动反向拖动滑尺进行盲操作补偿。成功修正后，日志会反馈"方向感回来了"。
  * **硬修正（保底）**： 消耗珍贵道具（如指南针）或时间进行强制校准。使用后弹出校准界面，成功后偏差角归零，VTD 恢复真实读数。

**触发条件**： 当触发 **[大雾]**、**[磁暴]** 或 **[深林]** 等事件时，进入迷路状态。

**视觉反馈**：

  * 地图上的"中心线"可能淡出或完全消失。
  * 屏幕边缘出现轻微的信号干扰（雪花屏、RGB分离）。
  * VTD 仪表本身看起来"正常"，但实际读数已偏移。

### 3.5 幻觉机制：幽灵分支与视差解谜

当 SAN 值 \< 20% 时，触发客户端渲染欺诈：

1. **认知污染 (Cognitive Pollution)**：不致命，但极其不安。

  - 物品异化：背包里的 [水壶] 图标突然变成一颗跳动的心脏，持续 3 秒后恢复。
  - 时空错乱：系统时间显示为 "1924年" 或 "ERROR"。
  - 记忆入侵：日志栏显示"Jack: 别回头"，但好友列表里并没有叫 Jack 的人。

2.  **生成虚假目标**： 在 Offset +200m (悬崖/深渊) 处生成一个假的目标点 ID。
3.  **渲染幽灵路**： 地图绘制一条虚线连接玩家与该点，标记为"捷径"或"温暖营地",诱导玩家走向深渊。
4.  **公平性（最后警告）**： 在玩家接近致死 Offset 前，必须有一次明显的警告信号（特殊音效/视觉畸变）。
5.  **玩家最终决策**： 幻觉只会引导到危险边缘，最后一步跨越致死阈值的操作必须由玩家主动点击"前进"。
6.  **VTD 集成幻觉**： 低 SAN 值时，VTD 可能出现幽灵输入（自动轻微移动），或致命欺骗（逻辑上锁定危险方向，但 UI 显示【中央】）。
7.  **破除**： 使用 **[肾上腺素]** 或 **[收听无线电]** 恢复 SAN 值后，虚假路线瞬间消失，玩家发现自己正站在悬崖边。

### 3.5.1 视差解谜 (Parallax Puzzle) - 低 SAN 值的正面利用

**设计理念**： 低 SAN 值（幻觉状态）下才能看到某些被隐藏的历史路径，形成"疯狂即真相"的哲学悖论。

- **机制说明**：
  * 某些历史路径被"全息伪装"（如看起来是墙，实际是通道）。
  * 正常 SAN 值下，玩家只能看到伪装层（墙）。
  * 低 SAN 值（< 30%）时，伪装层开始"闪烁"，露出背后的真实路径。
  * 玩家需要在"保持低 SAN 值以看到路径"和"SAN 值过低导致危险幻觉"之间平衡。
- **视觉表现**：
  * 伪装层出现"信号干扰"效果（类似电视雪花屏）。
  * 真实路径以半透明、闪烁的方式显示。
  * 日志提示："你看到了...不，那不可能存在。"
- **应用场景**：
  * 绕过被封锁的历史避难所入口。
  * 找到隐藏的关键锚点位置。
  * 在红区压迫下找到逃脱路径。
- **风险**： 低 SAN 值状态下，玩家更容易被"幽灵分支"误导，需要仔细区分"真实隐藏路径"和"虚假幻觉路径"。

为了让“幻觉”具有心理恐怖感而非单纯的视觉干扰，我们需要在 UI 和音频上制造“似是而非”的恐怖谷效应。

- **A. UI 动效脚本 (UI Animation Script)**

*场景： 玩家 SAN 值 \< 20%，系统决定生成一条通往悬崖的“幽灵分支”。*

| 阶段             | 时间轴     | 视觉表现 (Visuals)                                           | UI 行为 (Behavior)                                           |
| :--------------- | :--------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| **预兆 (Omen)**  | T+0s       | 屏幕边缘出现 **色散 (Chromatic Aberration)** 抖动。地图原本清晰的等高线开始像液体一样轻微蠕动。 | 指南针指针瞬间 360° 疯转一圈，然后定格指向错误的方位。       |
| **生成 (Spawn)** | T+2s       | 一条虚线从玩家当前位置慢慢“生长”出来。线条风格： 并非系统默认的实线，而是由断断续续的摩斯电码点阵组成的 **红色虚线**。 | 目标点图标不是标准的“旗帜”，而是一个 **闪烁的“篝火”图标**（游戏中不存在此图标），诱导玩家以为那里有温暖。 |
| **诱导 (Lure)**  | T+5s       | 幽灵路径上浮现文字标签："SHORTCUT" (捷径) 或 "FRIEND" (朋友)，字体带有 **毛刺效果 (Glitch)**，仿佛是信号干扰。 | 距离显示数字开始乱码跳动：200m -\> 1??m -\> HELP -\> 150m。  |
| **破除 (Break)** | 触发修正后 | 屏幕瞬间 **反色闪烁 (Invert Flash)** 一次。红色虚线瞬间炸裂成像素碎片消失。 | 真实的悬崖地形图层瞬间“弹”出来，覆盖原本的幽灵路径。         |

**B. 声音资源需求列表 (Audio Asset List)**

*音频设计的核心是 “听觉空想性错视” (Audio Pareidolia) —— 让玩家在白噪音中“听”到不存在的人声。*

| 文件名 (ID)                 | 描述 (Description)                                           | 触发条件                    | 备注 (Notes)                                 |
| :-------------------------- | :----------------------------------------------------------- | :-------------------------- | :------------------------------------------- |
| **SFX\_Hallu\_Whisper\_01** | 混合了风声的低语。 听起来像有人在耳边急促地说“这边” (Over here)，但仔细听又只是风吹过岩石的声音。 | SAN \< 20% + 幽灵路径出现时 | 需做 3D 环绕声，声源位置与幽灵路径方向一致。 |
| **SFX\_Fake\_Notification** | 伪造的系统提示音。 与游戏标准的“获得成就/好友上线”音效极度相似，但音调低半个八度，且尾音带有电流撕裂声。 | 随机触发                    | 诱导玩家看屏幕，增加焦虑感。                 |
| **SFX\_Heartbeat\_Sync**    | 心跳与脚步同步音。 玩家每走一步，播放一声沉闷的鼓点，逐渐加速，模拟心跳过速。 | 玩家跟随幽灵路径行走时      | BPM 从 60 渐变至 140。                       |
| **SFX\_Tinnitus\_High**     | 高频耳鸣音。 尖锐的正弦波声音，由弱渐强，模拟高反缺氧。      | 濒死状态 / 滑坠前 3 秒      | 用来掩盖所有环境音，制造“断片”感。           |

### 3.6 死亡散点 (Death Scatter)

  * **服务器端**： 记录死亡坐标 + 死因造成的 Offset。
    * 力竭：Offset ±2m (路边)。
    * 滑坠：Offset ±50\~200m (深渊底部)。
  * **客户端渲染**： 正常路径很干净，但路径旁的黑色区域（深渊）里，密密麻麻闪烁着红色的死亡信号。

-----

## 4. 资源与成长 (Economy & Progression)

### 4.1 双轨制资源经济 (Dual Economy)

**设计理念**：彻底分离体力和 KP，形成双轨制经济系统。

#### 4.1.1 体力 (Stamina) - 燃料系统

- **定义**：体力 = 燃料。移动直接消耗体力，不再消耗 KP。
- **消耗机制**：
  * 按住推进区时，持续消耗体力。
  * 消耗速率受 **地形阻力系数 (Drag Coefficient)** 影响：
    * 平地: 基础消耗速率 1x
    * 碎石坡: 1.5x（推进速度变慢，震动反馈更强烈）
    * 深雪: 2x（推进速度明显变慢，震动沉闷）
    * 陡坡: 2.5x
- **恢复机制**：
  * 松手驻足：暂停消耗，体力自然恢复（缓慢）
  * 消耗 KP 购买食物/休息：快速恢复体力
  * 在营地休息：消耗时间恢复体力
- **上限**：初始体力上限 100，可通过装备和属性提升。

#### 4.1.2 动能势能 (KP) - 货币系统

- **定义**：KP = 货币。不再限制移动，仅用于购买补给、升级装备、呼叫救援。
- **获取途径**：
  * **节点结算**：到达检查点/营地时结算奖励
  * **探索发现**：发现隐藏地点、收集资源
  * **任务完成**：完成系统任务获得奖励
- **消耗用途**：
  * [购买补给]：食物、水、燃料等消耗品
  * [升级装备]：提升装备等级和属性
  * [呼叫救援]：紧急情况下消耗大量 KP 呼叫救援
  * [技能学习]：购买技能经验书
- **存储上限**：无硬性上限。

### 4.1.1 资源耦合与次级资源

为关键技能（如生火）引入次级资源消耗（如燃料）或冷却时间，增加资源管理深度。

### 4.2 角色成长体系 (Character Progression)

标准的 RPG 三层架构：属性 (Attributes)、技能 (Skills)、天赋 (Talents)。

**A. 基础属性 (Base Attributes)**

通过长期的行走和升级提升，属于角色的硬面板。

**增加显式反馈**： 在 UI 上提示当前行为的收益（例："负重 >80% 行走，体魄 +0.1 XP/min"）。

| 属性名               | 影响数值                                        | 锻炼方式                          |
| :------------------- | :---------------------------------------------- | :-------------------------------- |
| **体魄 (Physique)**  | 负重上限、生命值上限、抗病能力                  | 累计行走总里程、高负重行走        |
| **灵巧 (Dexterity)** | 移动速度修正、暴击率（采集/狩猎）、闪避滑坠判定 | 通过复杂地形（如碎石坡、密林）    |
| **心相 (Psyche)**    | SAN 值上限、抗幻觉阈值、濒死爆发时间            | 在恶劣天气（如暴风雪/黑夜）中行走 |

**B. 主动生存技能 (Active Survival Skills)**

技能有熟练度等级（Lv1 - Lv5）。玩家必须通过 交互操作 来提升等级，"越用越强"。

**控制 MVP 范围**： 首发版本每个技能系只保留 1-2 个核心技能（如生火、辨识方向）。

**营造系 (Construction)**

- [搭建帐篷]: 消耗 [帐篷组件]。Lv1 仅能回血但掉温；Lv5 完美抗风并回复 SAN。

- [生火]: 消耗 [燃料]。Lv1 需多次打火；Lv5 燃料效率 +50%。

**采集系 (Gathering)**

- [过滤水源]: 消耗 [滤芯]。Lv1 有概率生病；Lv5 获得纯净水。

- [狩猎/陷阱]: 消耗 [时间]。在主路外侧设置，等级越高捕获高蛋白猎物概率越高。

**探索系 (Exploration)**

- [辨识方向]: 仅在迷路时使用。Lv1 罗盘游戏难度高；Lv5 获得直觉，难度减半。

**C. 基因图谱 (Genetic Traits)**

这是角色的 天赋/专长 (Perks)，需要在"代际继承"时通过基因点购买。

**平衡性调整**： 通过设置高阶天赋互斥分支，或严格限制总基因点数，强制玩家进行专业化选择，避免唯一最优 Build。

**勘探者 (Navigator) - 对抗“迷路”**

  * **Tier 1 [直觉修正]**: 减少“矢量解耦”发生时的最大偏差角（例如从 ±30° 降至 ±15°）。
  * **Tier 2 [星辰定位]**: 即使在黑夜，若无暴风雪，地图中心线不会完全消失，保留隐约残影。
  * **Tier 3 [离线缓存]**: 死亡时，保留 50% 已探索地图的战争迷雾状态给下一代。

**苦行僧 (Ascetic) - 对抗“环境”**

  * **Tier 1 [骆驼胃]**: 饮水效率 +20%，抗脱水时间延长。
  * **Tier 2 [低温休眠]**: 停止移动时，体温下降速度减缓 40%（适合躲避暴风雪）。
  * **Tier 3 [肾上腺素泵]**: 生命值低于 10% 时，获得 30 秒无限体力爆发。

**观测者 (Observer) - 对抗“幻觉”**

  * **Tier 1 [逻辑锚点]**: 能够识别出 30% 的“幽灵分支”（虚假路线会以红色闪烁标记）。
  * **Tier 2 [静默心流]**: SAN 值低于 20% 时，不再听到虚假的求救声（音效干扰移除）。
  * **Tier 3 [真实之眼]**: 主动技能。瞬间清除屏幕上所有的幻觉渲染，冷却 24 小时。


### 4.3 装备与背包系统 (Inventory & Gear)

- **背包俄罗斯方块 (Inventory Tetris)**：
  * 引入深度物品管理玩法。物品有真实的体积和形状：[急救包] (2x2), [能量棒] (1x1), [登山杖] (1x3), [氧气瓶] (2x3).
  * **整理乐趣**：玩家必须在有限的背包网格内，旋转、拼凑物品以最大化利用空间。
  * **取舍策略**：玩家必须在"多带补给"（安全但负重大）和"轻量化行动"（敏捷但容错低）之间做决策。
- **装备特化**：
  * [超轻量化冰镐]：减少移动 KP 消耗 10%，但耐久度极低（易折断）。
  * [重型极地服]：抗寒能力 Max，但占用背包 3x3 格子且增加负重 KP 消耗。

### 4.4 装备与环境交互 (Gear & Environment Interaction)

装备不再是单纯的数值堆砌，而是直接改变 UI 的渲染方式。

#### A. 照明装备机制 (Lighting Gear)
头灯提供的是**持续的被动视野扩展**，减少玩家频繁使用 PING（消耗大量 KP/电池）的需求。

* **光锥 (Light Cone)**：头灯在 UI 上投射出一个扇形可视区，随 VTD 的方向或角色朝向摆动。
* **丁达尔效应 (Tyndall Effect)**：在大雾/暴雪中，光线会被散射，导致**光锥变短且变宽**，甚至造成屏幕"过曝"（白茫茫一片反而看不清）。

#### B. 环境对抗矩阵 (Interaction Matrix)

| 装备类型 | 晴朗黑夜 (Clear Night) | 大雾 (Fog) | 暴风雪 (Blizzard) |
| :--- | :--- | :--- | :--- |
| **无装备** | 视野半径 2m (伸手不见五指) | 视野半径 2m | 视野半径 1m |
| **T1: 普通LED头灯** | **视野 +20m** (清晰光锥) | **失效** (光线散射，视野 +2m，屏幕出现眩光干扰) | **失效** (完全被雪幕遮挡) |
| **T2: 强光探照灯** | **视野 +50m** (超远光锥) | **受限** (穿透力一般，视野 +10m) | **微弱** (视野 +5m) |
| **T3: 黄光雾灯** | 视野 +30m | **特化** (波长穿透迷雾，视野 **+25m**，无眩光) | 受限 (视野 +10m) |
| **T4: 热成像护目镜** | **地形不可见** (仅显示热源) | **透视** (无视雾气，标记生物/热源，但不显示悬崖) | **透视** (同左) |

-----

## 5\. 世界结构与时间 (World & Time)

### 5.1 地图结构：分段式长卷 (Segmented Linear Scroll)

**核心设计**： 单一无缝的长地图，但被**"以太风暴带"**分割为不同章节（不同历史时期）。

- **海拔分层**：
  * **0-1500m：灰烬海 (Ash Sea)**：现代废墟，建立悬念（为什么时间停滞？）。末日废土风格。
  * **1500-4500m：历史断层 (Historical Strata)**：风格剧变的区域（如凝固的 90 年代都市、血肉战壕）。引入 NPC 互动。
  * **4500-7000m：深层历史 (Deep History)**：更古老的历史时期，环境更加危险。
  * **7000m+：非欧几何带 (Non-Euclidean Zone)**：脱离人类历史，进入克苏鲁/宇宙恐怖领域，揭示塔的本质（也许是一根针）。

- **历史避难所 (Historical Shelter)**： 检查点系统。通过解锁历史避难所来保存进度，避免 Roguelike 的过度重复感。

- **以太风暴带 (Aether Storm Zone)**： 分割不同历史时期的危险区域。穿越时需要消耗大量体力和 SAN 值，或使用特殊道具。

### 5.2 时间潮汐系统 (Time Tides System)

**设计理念**： 由"自然四季"重构为历史时期的时间流动模式。现实 1 周 = 游戏 1 个时间潮汐周期。

- **复苏潮 (原春)**： 现实第 1 周。钢铁生锈发芽，病毒滋生。环境：腐蚀性增强，装备耐久度下降加快。

- **辐射潮 (原夏)**： 现实第 2 周。历史余烬辐射，高曝光，SAN 值狂掉。环境：SAN 值自然下降速度 +50%，但探索奖励 +30%。

- **熵解潮 (原秋)**： 现实第 3 周。风化加速，物理结构脆弱，落石多。环境：随机落石事件频率 +100%，但关键锚点出现概率 +50%。

- **静滞潮 (原冬)**： 现实第 4 周。绝对零度，物理最稳定，适合冲刺。环境：所有环境伤害 -30%，是冲刺高海拔的最佳时机。

### 5.3 更新模式：地层插入法 (Stratum Insertion)

**核心机制**： 新赛季内容（如赛博朋克层）直接作为新的历史断层插入到现有海拔之间（如 2000m-2500m），无需推翻原有结局。

- **优势**： 保持游戏世界的一致性，新内容无缝融入现有结构。
- **实现**： 通过配置系统，在指定海拔区间插入新的历史断层。
- **示例**： 新赛季"赛博朋克层"插入到 2000m-2500m，玩家在 2000m 时会进入赛博朋克风格的历史断层。

### 5.4 双轨制时间系统

- **术语统一**： 明确区分时间潮汐、运营赛季（见 0. 名词解释）。
- 宏观 (时间潮汐)： 现实 1 周 = 游戏 1 个时间潮汐。与现实时间强绑定，全服统一。

- 微观 (日夜)： 游戏内时间随 [消耗的 KP] 流动，而非现实时间。

  - 量子营地 (Quantum Camp)： 玩家松手驻足（不消耗体力）时，角色自动进入"观测塌缩"状态。游戏内时间冻结，生存数值冻结。

  - 这意味着玩家可以随时暂停游戏进行思考，不受现实时间限制。
  - **量子营地逻辑**： 明确"红色信标"（待救援目标）是异步的镜像数据快照，而非实时玩家，以解决时间冻结与救援的逻辑冲突。

### 5.2 增强型数据结构：图结构 (Graph Structure)

从“线性列表”升级为“有向图”，支持非线性叙事和岔路。

```json
{
  "route_nodes": {
    // 节点：分岔路口
    "node_fork_01": {
      "type": "fork",
      "name": "命运三岔口",
      "description": "左侧是密林，右侧是悬崖。",
      "choices": [
        { "btn_text": "进森林", "target_segment_id": "seg_forest_a" },
        { "btn_text": "爬悬崖", "target_segment_id": "seg_cliff_b", "req_item": "climbing_gear" }
      ]
    },
    // 路段：森林线
    "seg_forest_a": {
      "type": "trek",
      "next_node_id": "node_merge_02",
      "corridor_width": 20, // 道路宽度
      "hazard_threshold": 50, // 偏离50米即死
      "weather_profile": "humid_forest", // 引用气候配置
      "elevation_range": [2800, 2900]
    }
  }
}
```

### 5.3 动态天气矩阵 (Dynamic Weather Matrix)

天气不是写死的，而是由 **[Biomes 地貌]** + **[Elevation 海拔]** 实时计算得出。

  * **配置逻辑**： 独立的 Weather Config Table。
  * **计算流程**：  
    1.  读取路段 `weather_profile` (如：高山脊)。
    2.  读取当前海拔 (如：4200m)。
    3.  **降水转化**： 若判定降雨，但海拔 \> 0°C线，自动转化为“雪”；若海拔 \> 暴雪线，转化为“暴风雪”。
  * **实时影响**：
    * **Fog (雾)**: 触发“矢量解耦”概率翻倍。
    * **Blizzard (暴雪)**: 体温每分钟 -5°C，地图显示 "SIGNAL LOST"（雪花屏）。

-----

## 6. 任务与紧急征召 (Quest System)

系统不定期发布全服或区域性任务，增加游戏变数。

### 6.1 竞速任务：高山拉力赛 (Alpine Rally)

  * **触发**： 季节更替后的第 1 天（路况刷新时）。

  * **内容**： 从 A 营地到 B 营地，全服玩家比拼 [最少 KP 消耗] 或 [最短游戏内时间]。

  * **机制**： 玩家需要寻找捷径（可能触发危险事件）。
  * **增加"个人实例化版本"**： 除了全服统一活动，玩家在特定节点也可触发个人挑战，减少轻度玩家的 FOMO 情绪。
  * **奖励**： 赛季限定的"金冰镐"勋章，大量基因点。


### 6.2 救援任务：SOS 信号 (Search & Rescue)

  * **触发**： 随机触发，通常在恶劣天气（暴雪/大雾）时。
  * **情境**： 系统提示 “侦测到求救信号，方位偏离主路 600米”。
  * **生成逻辑**： 在主路径的某个分岔口边缘，生成一个 [受伤的 NPC] 或 [其他玩家的镜像数据]。

玩法：

  * **玩家必须主动增加 Lateral Offset（主动走偏）**，进入危险区。
  * **利用 [辨识方向] 技能在茫茫大雾中定位信号源**。
  * **找到目标后**，消耗 KP 和急救包将其背回主路。
  * **风险**： 在救援过程中，SAN 值下降极快，且容易产生幻觉。


-----

## 7\. 社交系统 (Asynchronous Social)

### 7.1 频段广播 (Radio Frequency)

除了被动的玛尼堆，增加主动的弱交互。会在屏幕下方滚动出现模糊的系统日志式弹幕。

  * **合规与沉浸**： 采用自动生成的呼号（如 "Climber-XXXX"）代替玩家社交昵称，以确保内容安全并增强沉浸感。
  * **正常**： "Climber-9527 已抵达 [四姐妹峰] 营地。"
  * **故障**： "Climber-UNKNOWN 在你附近 [340m] 处...停止了...心跳..."

### 7.2 黑色方碑与救援 (The Black Box)

  * **尸体实体化**： 死亡玩家变成地图上的 **[黑色方碑]**。
  * **救援互动**：
    * **回收 (Salvage)**: 拿走死者背包里的一件遗物（降低自身业力/人品值）。
    * **安葬 (Bury)**: 消耗时间掩埋（获得大量业力，恢复 SAN 值）。
    * **读取日志 (Read Log)**: 能够看到死者死前最后 10 步的路线回放（帮助你避开陷阱）。

### 7.3 玛尼堆 (Cairns)

  * **建造限制**： 只能在 Lateral Offset \< 5m (路边) 建造。
  * **限制**： 仅允许使用系统预设词库组合句子（类似《黑暗之魂》），防止违规内容。
  * **示例**： "前方" + "绝景" / "当心" + "滑坠"。
  * **功能**： 放置多余物资、技能经验书，供后来者拾取。提供指示信息（如：“前方绝景”、“当心滑坠”）。
  * **奖励**： 根据点赞数量，增加业力值（最多 +10）。

### 7.4 红色信标 (Red Beacons - Rescue)

  * **视觉**： 地图深渊处的红色静止光点。
  * **互动风险**： 玩家必须主动偏离路线 (Increase Offset) 走到光点附近。
  * **救援**： 消耗 **[急救包]**。
  * **奖励**： 极高人品值（Karma）、对方背包里的随机一件遗物。

### 7.5 业力系统 (Karma)

  * **获取**： 安葬尸体、建立玛尼堆、救援任务。
  * **消耗**： 拿走死者遗物、无视求救信号。
  * **灰色地带**： 允许组合行为平衡业力。例如："拿走遗物但同时安葬"，净业力变化接近 0。
  * **遗愿系统**： 允许死者玩家生前设定是否允许他人拾取遗物。若允许，则拾取者的业力惩罚减少。
  * **影响**：
    * **高业力**： 略微降低遭遇极端暴雪概率；SAN 值恢复速度 +10%（心安理得）。
    * **低业力**： 幻觉更具攻击性（听到亡者诅咒）；随机事件偏向负面（如装备损坏）。

-----

## 8\. 玩法循环：监视者 (The Vigilant Walker)

### 8.0 核心玩法设计理念

**设计原则**：移除所有动作要素，核心玩法是文本监视。所有动态机制均进行符号化抽象。

- **动作要素**：删除所有 QTE（快速反应）和小游戏。
- **[核心] 文本监视**：玩家必须盯着屏幕上方不断刷新的滚动日志，从文字中捕捉危险信号。
- **符号化抽象**： 所有原 3D 机制（怪物追逐、NPC 跟随、探索发现）均转化为 UI 符号和文本交互。

### 8.1 滚动日志系统 (Scrolling Log System)

- **位置**：屏幕上方大面积区域，占据视觉重心。
- **刷新机制**：实时滚动显示系统生成的叙事文本。
- **危险信号识别**：
  * 玩家需要从文字中识别危险关键词：
    * "冰裂声" → 可能触发冰面坍塌
    * "脚感变软" → 可能陷入深雪或流沙
    * "风向不对" → VTD 仪表可能欺诈
    * "有树枝刮擦" → 实际位置已偏移
    * **"碾压判定：致命"** → 红区压迫接近，需要立即逃命
    * **"信号强度：峰值"** → 相位调谐成功，可以收听历史记忆
    * **"检测到幽灵频段"** → NPC 记忆残影出现，可以尝试同步
  * 识别到危险信号后，玩家应主动松手（停止推进）做出决策。
- **信息密度**：根据游戏状态动态调整文本刷新频率和内容密度。
- **红区污染**：当红区压迫接近时，日志文本会被乱码和红色警告污染，增加阅读难度。

### 8.2 危机阻断机制 (Crisis Interruption)

- **触发条件**：遇到重大危机（如滑坠、冰面坍塌）。
- **表现方式**：
  * 系统强制暂停游戏。
  * 弹出黑底白字的选择题界面（风险博弈）。
  * **非倒计时点击**：玩家有充足时间思考，做出策略性决策。
- **选择题类型**：
  * 风险选择："继续前进" vs "绕路而行"（消耗更多体力）
  * 资源博弈："使用急救包" vs "硬撑到营地"
  * 路径选择："相信直觉" vs "使用指南针校准"

### 8.3 操作门槛降低

- **按住推进**：简单的按住空格键操作，无需复杂手势。
- **线性VTD**：直观的鼠标操作，所见即所得。
- **松手驻足**：随时可以松开空格键暂停思考，降低心理压力。
- **文本驱动**：通过阅读和理解文字进行游戏，而非快速反应。

### 8.4 综合游戏体验流 (Gameplay Flow Example)

这是一个典型的"装备-环境-操作"循环：

1.  **场景：黄昏，开始入夜**
    * 系统提示："光照流失。"
    * UI 变暗，周围的悬崖边界逐渐隐入黑暗。

2.  **动作：开启 [普通头灯]**
    * 屏幕前方出现一道扇形亮区，你可以像白天一样看清路和悬崖。
    * 代价：电池电量开始缓慢下降。

3.  **突发：遭遇 [浓雾]**
    * UI 上的扇形光柱瞬间变得浑浊、发白（模拟光线打在雾上的反射）。
    * 原本能看清 20米，现在只能看清 3米。前面的路再次消失。
    * **决策**：此时普通头灯几乎没用，关掉它以节省电量？还是硬着头皮开着？

4.  **操作：切换导航策略**
    * 因为看不清，你只能降低移动速度。
    * 你开始依赖 **[声纳 PING]**。虽然雾气大，但声波还能勉强勾勒出悬崖边缘。
    * **装备检定**：如果你背包里有 **[T3 黄光雾灯]**，此时装备上，光锥瞬间穿透迷雾，视野恢复清晰，你可以继续全速前进。这就是高级装备带来的直观爽感。

-----

## 9\. 叙事与动态文案 (Narrative & Dynamic Text)

**设计理念**： 文案不再仅仅由 SAN 值决定。系统将引入一个 **"叙事合成器" (Narrative Synthesizer)**，基于 **[时间潮汐]** + **[SAN值]** + **[生理状态]** 三个维度实时组合生成文案，模拟人类在极端环境下的思维碎片。并且叙事合成器需要增加"高光时刻"模块，避免全程压抑

### 9.0 叙事架构 (Narrative Architecture)

游戏叙事按照海拔高度分为三个阶段，每个阶段具有不同的叙事风格和主题：

**初期 (0-1500m)：灰烬海 (Ash Sea)**

- **主题**： 现代废墟，建立悬念（为什么时间停滞？）。
- **风格**： 末日废土，现代文明的残骸。
- **叙事目标**： 建立世界观基础，引入核心悬念（大停滞的真相）。
- **关键事件**： 发现第一个黑色方碑，了解"记忆修补匠"的身份。
- **环境特征**： 现代建筑废墟，废弃的科技设备，灰烬和尘埃。

**中期 (1500-4500m)：历史断层 (Historical Strata)**

- **主题**： 风格剧变的区域（如凝固的 90 年代都市、血肉战壕）。
- **风格**： 不同历史时期的风格混合，时间错乱感。
- **叙事目标**： 引入 NPC 互动，通过幽灵频段和相位调谐收集历史记忆。
- **关键事件**：
  * 遇到历史 NPC 的记忆残影（通过幽灵频段同步）。
  * 发现关键锚点，了解大停滞的部分真相。
  * 不同历史时期的风格切换（90 年代都市、二战战壕、古代文明）。
- **环境特征**： 不同历史时期的建筑和物品混合，时间错乱的视觉表现。

**后期 (7000m+)：非欧几何带 (Non-Euclidean Zone)**

- **主题**： 脱离人类历史，进入克苏鲁/宇宙恐怖领域，揭示塔的本质（也许是一根针）。
- **风格**： 非欧几何空间，物理法则扭曲，宇宙恐怖。
- **叙事目标**： 揭示终极真相，关于时间停滞的本质和"针"的哲学意义。
- **关键事件**：
  * 发现"塔"的本质（可能是一根插入时间的"针"）。
  * 面临终极抉择：是否"拔出针"（恢复时间但毁灭世界）。
  * 进入非欧几何空间，物理法则失效。
- **环境特征**： 扭曲的空间结构，无法理解的几何形状，超越人类认知的视觉表现。

**终局：哲学抉择 (The Final Choice)**

- **核心问题**： 是否"拔出针"（恢复时间但毁灭世界）？
- **设计理念**： 没有标准答案，玩家的选择影响结局，但都带有哲学思辨的沉重感。
- **结局分支**：
  * **拔出针**： 时间恢复流动，但世界可能毁灭。玩家成为"时间的重启者"。
  * **不拔出针**： 保持现状，但时间永远停滞。玩家成为"时间的守护者"。
  * **其他隐藏结局**： 通过特殊条件解锁（如收集所有关键锚点、达到特定 SAN 值等）。

### 9.1 叙事变量矩阵 (The Narrative Matrix) 

文案生成公式：
`Output_Text = Season_Tone (基调) + SAN_Filter (滤镜) + Body_Status (生理)`

**SAN 值恢复途径（规避死亡螺旋）**： 增加"微恢复"途径。包括：地图上的"绝景点" (Vista Points)、积极的社交反馈（安葬/高赞）、天气转好时的短暂 Buff。

**维度一：时间潮汐基调 (Time Tides Tone) - 决定话题**

  * **复苏潮 (原春)**： 关键词：烂泥、虫子、发霉、复苏、锈迹、病毒滋生。
  * **辐射潮 (原夏)**： 关键词：口渴、太阳黑子、燃烧、这种光亮令人恶心、放射性、余烬。
  * **熵解潮 (原秋)**： 关键词：枯叶、风哨、干燥、孤独、风化、脆弱。
  * **静滞潮 (原冬)**： 关键词：冻僵、晶体、白色、永恒、睡意、绝对零度。

**维度二：SAN 值滤镜 (SAN Filter) - 决定语气**

  * **理智 (Rational)**: 客观、战术化、短句。（“气温-10度，需寻找掩体。”）
  * **偏执 (Paranoid)**: 怀疑环境、拟人化、充满敌意。（“风在针对我。雪想以此掩盖什么。”）
  * **谵妄 (Delirious)**: 逻辑崩坏、诗意化、认知错乱。（“星星是热的。雪是甜的。”）

**维度三：高光时刻 (High Moments)**：

  * **触发条件**： 暴风雪刚结束 + SAN 值恢复 > 80% + 刚好日出。
  * **文案风格**： 宏大、宁静、神性。
  * **示例**： "风停了。金色的光像是液体一样流过雪坡。你突然觉得，之前忍受的一切寒冷，都是为了此刻这口凛冽而纯净的空气。"

### 9.2 动态文案组合示例 (Examples)

以下展示同一个场景（玩家在暴风雪中行走），在不同状态下的文案差异：

**场景 A：静滞潮 + 高 SAN (正常) + 身体健康**

  * **系统日志**： "外部气温 -25°C。暴风雪等级 3。能见度不足 10 米。建议立即寻找背风坡扎营。"
  * **解析**：标准的记忆修补匠终端风格。

**场景 B：静滞潮 + 低 SAN (偏执) + 轻微失温**

  * **系统日志**： "这也太安静了。雪停了吗？不，它们在屏住呼吸。如果你停下来，它们就会把你埋起来。那块石头看起来像上一队的杰克...他在看我吗？"
  * **解析**：开始怀疑环境，出现轻微的受迫害妄想。

**场景 C：辐射潮 + 极低 SAN (谵妄) + 严重脱水 (中暑)**

  * **系统日志**： "太阳好吵。金色的蝉在血管里爬。把水壶扔了吧，太重了，反正云彩也是棉花糖做的。我想脱掉外套，这里像个烤箱... 或者子宫。"
  * **解析**：典型的"反常脱衣现象"（冻死/热死前的幻觉），逻辑错乱，危险的自我毁灭暗示。

**场景 D：复苏潮 + 中等 SAN + 腿部受伤**

  * **系统日志**： "泥泞。每一步都像被大地咬住了一口。伤口里好像长出了苔藓。这就是复苏的代价吗？别看脚下，看前面。"
  * **解析**：将身体的痛楚与时间潮汐特征（泥泞、生长）结合，产生由于感染带来的身体恐怖感。

**场景 E：高光时刻**

  * **系统日志**： "风停了。金色的光像是液体一样流过雪坡。你突然觉得，之前忍受的一切寒冷，都是为了此刻这口凛冽而纯净的空气。"
  * **解析**：典型的"高光时刻"，宏大、宁静、神性。

### 9.3 交互文案的动态篡改 (Dynamic UI Text)

当 SAN \< 10% (濒死/崩溃) 时，UI 上的功能性文本将根据 **[时间潮汐]** 发生恶意篡改：

| 原按钮功能       | 静滞潮 (冻死幻觉)     | 辐射潮 (热射病幻觉) | 复苏潮 (腐烂幻觉) | 熵解潮 (风化幻觉) | 备注                         |
| :--------------- | :------------------ | :---------------- | :---------------- | :---------------- | :--------------------------- |
| **[使用急救包]** | "拆开礼物"          | "献祭"            | "腐烂加速"        | "风化完成"        | 即使点击，效果可能减半或失败 |
| **[睡觉/休息]**  | "长眠" / "加入冰雪" | "融化" / "蒸发"   | "被大地吞噬"      | "化为尘埃"        | 暗示死亡的诱惑               |
| **[丢弃物品]**   | "埋葬过去"          | "烧掉它"          | "让它腐烂"        | "让它风化"        | 增加操作的沉重感             |
| **[查看地图]**   | "看那片白色"        | "直视太阳"        | "看那片绿色"      | "看那片黄色"      | 地图可能全白或全红           |

### 9.4 叙事合成器实现策略

采用模板化和标签化系统实现。将句子拆分为模板和词库（按季节/SAN/生理状态打标签），系统抽取词汇组合进模板，提高复用性和随机性。

-----

## 10\. 死亡与继承机制 (Death & Legacy)

这是 Roguelike 的核心循环，死亡必须具有重量感，但不能让玩家流失。

### 10.1 死亡处理 (The Moment of Death) (新手保护)

  * **黑屏切断**： 屏幕瞬间黑屏，模拟信号中断。
  * **黑匣子报告 (Black Box Report)**： 打印出一张类似热敏纸的清单：
    * 存活时间：14 天 03 小时
    * 最终坐标：N 32° / E 103° (Offset +120m)
    * 死因：失温 (Hypothermia)
  * **引入新手保护机制**： 前 3 次正式死亡，提供额外保护（如更高的地图保留比例，或低成本从黑匣子找回一件关键装备）。

### 10.2 代际继承 (Inheritance)

玩家创建一个“新登山者”开始游戏，但并非从零开始：

  * **物资遗失**： 背包里的食物、水、消耗品全部丢失（留在上一代的尸体里）。
  * **装备保留**： 已解锁的永久装备（如高级登山杖、Gore-Tex外套）保留。
  * **地图数据**：
    * 完全探索过的区域变为"灰色"（已知地形，但无实时视野）。
    * **复仇点（上一代死亡地点）设为可选项**： 玩家可以在新开局时选择"忘记过去"（不显示复仇点）。
  * **基因点 (XP)**： 结算获得的基因点数，用于在新开局前升级技能树。

-----

## 11\. 运营与活动 (LiveOps)

  * **死亡热力图 (Death Heatmap)**：
    * 开发者后台生成全服死亡热力图。
    * **每周重置**： 如果某路段死亡人数过多（热力图变红），系统自动在该区域生成一个 **[幽灵救援队]** NPC，提供临时补给（作为动态难度调节）。
  * **登山年 (Mountaineering Year)**： 每 4 周为一个完整赛季，结算发放年度徽章。
  * **现实同步 (Reality Sync)**： 在冬至/大暑等特定日期，开启限时 3 天的“现实拟真模式”（游戏天气强制同步当地真实天气），奖励绝版节气皮肤。

## 12. 新手引导 (Onboarding)

鉴于核心机制较为抽象，设计强制性序章 "第 0 次攀登"。

- **阶段一**：长按推进与体力系统：
  * 引导玩家按住 **[Space] 空格键**，体验推进机制。
  * 演示体力消耗和地形阻力反馈（音效、震动）。
  * 演示松手驻足功能（暂停消耗，用于思考）。
  * 介绍 KP 获取途径（节点结算等）。

- **阶段二**：文本监视与VTD操控：
  * 引导玩家透过面罩 UI 观察滚动日志，识别危险信号。
  * 演示线性 VTD 操作（**左右移动鼠标**调整偏移）。
  * 强制触发迷路状态（VTD 仪表欺诈）。

- **阶段三**：信息博弈与修正：
  * 剧情强制触发大雾，进入迷路状态。
  * VTD 显示在 0m，但滚动日志提示"风向不对"、"有树枝刮擦"。
  * 引导玩家根据文字线索推理偏差值，使用 VTD 进行反向修正。
  * 演示软修正（推荐）和硬修正（保底）两种解法。

- **阶段四**：危机阻断与死亡演示：
  * 触发重大危机（如滑坠），演示黑底白字选择题界面。
  * 引导角色力竭倒下，演示"黑色方碑"生成与代际继承界面，降低死亡挫败感。

- **阶段三**：死亡演示： 引导角色力竭倒下，演示“黑色方碑”生成与代际继承界面，降低死亡挫败感。

## 13. 发行与Steam整合 (Distribution & Steam Integration)

原则： 一次性买断制 (Premium)，无内购，所有内容通过游戏过程解锁。

### 13.1 核心商业模式

*   **买断制 (Buy-to-Play)**： 定价策略参考同类精品独立游戏（如 $19.99）。
*   **后续更新 (DLC)**： 推出新的"历史断层"（如赛博朋克层、远古层）作为付费 DLC 扩展包。

### 13.2 Steam 功能整合

*   **成就系统 (Achievements)**：
    *   **硬核挑战**： "无伤登顶"、"不使用急救包通关"。
    *   **探索收集**： "收集所有黑色方碑日志"。
    *   **隐藏结局**： "拔出针"、"成为守护者"。
*   **云存档 (Cloud Save)**： 支持 Steam Cloud，确保进度不丢失。
*   **集换式卡牌 (Trading Cards)**： 掉落以"面罩 UI"风格设计的卡牌，合成徽章。
*   **创意工坊 (Workshop)**： (长期规划) 允许玩家设计自定义的玛尼堆留言模板、或简单的路段配置。

### 13.3 社区运营

*   **死亡热力图**： 在 Steam 社区中心展示全服玩家的死亡地点分布。
*   **赛季挑战**： 定期举办"速通挑战"或"高难生存周"，通过 Steam 公告发布，奖励游戏内特殊称号。

-----

## 14. 技术架构与实现 (Technical Architecture & Implementation)

本章节详细说明游戏的核心技术决策和实现方案，这是最终确定的最关键的技术架构。

### 14.1 核心架构：局部坐标系 (Local Coordinate System)

**技术决策**：采用局部坐标系系统，用于解决"盘山路重叠"和"浮点数精度"问题。

**核心改进**：放弃使用全局单一的 GlobalDistance 来定位物体，采用 **SegmentID (路段ID) + LocalDistance (段内进度)** 的方式定位。

#### 14.1.1 数据结构

```csharp
struct ActorPosition {
    int SegmentIndex;      // 在第几号路段 (如: 12)
    float LocalDistance;   // 在该路段走了多远 (如: 45.5m)
    float LateralOffset;   // 横向偏移量 (如: -5.0m)
}
```

#### 14.1.2 技术优势

- **完美处理螺旋上升、多层重叠的地图结构**：逻辑上隔离，互不干扰。
- **支持无限延长的地图（Endless Mode）**：无浮点精度丢失。
- **查询效率极高（O(1)）**：无需遍历全图寻找物体。

### 14.2 移动与手感：纯数学模型 (Math-Based Movement)

**设计理念**：采用自定义的数学公式模拟手感。

#### 14.2.1 双轴分离设计

- **纵向 ($D$)**：受 **地形阻力系数 ($K_{drag}$)** 影响。
  - 公式：$V = V_{base} / K_{drag}$
- **横向 ($O$)**：受 **VTD操控 + 环境风力 + 地形坡度** 共同影响。

#### 14.2.2 VTD 手感实现

- **惯性插值 (Lerp)**：必须加入惯性插值，模拟机械仪表的延迟感，避免滑块瞬移。

#### 14.2.3 判定逻辑

- **每帧检查**：当前 Offset 是否在 当前路段(LocalD) 的 StartWidth 和 EndWidth 范围内。
- **纯数值比对**：不使用射线检测或碰撞体，完全基于数值计算。

### 14.3 地图与渲染：3D 贝塞尔曲线 (3D Bezier Curves)

**核心问题**：解决"逻辑是直的，视觉是弯的"这一矛盾。

#### 14.3.1 实现方案

**生成逻辑**：使用"铺路机"算法，基于 JSON 配置（长度、弯曲角、海拔爬升），生成每段路的 3D 贝塞尔控制点 ($P_0, P_1, P_2, P_3$)。

**海拔处理**：控制点包含 Y 轴信息，自然支持坡度和螺旋上升。

**坐标转换**：
- 逻辑层只维护 $D$ 和 $O$。
- 渲染层通过贝塞尔公式将 $(D, O)$ 转换为世界坐标 $(X, Y, Z)$ 用于绘制模型和相机跟随。

**核心公式**：
```
WorldPos = CurveCenter(t) + (CurveRightVector(t) * Offset)
```

其中：
- `CurveCenter(t)` 是贝塞尔曲线在参数 t 处的中心点位置
- `CurveRightVector(t)` 是曲线在该点的右向量（副法线方向）
- `Offset` 是横向偏移量

### 14.4 玩法机制实现：UI 欺诈与解耦

这是 GDD 核心玩法"矢量解耦"的技术落地。

#### 14.4.1 设计要点

维护两个变量：
- **True_Offset (真实值)**：实际游戏逻辑使用的偏移量
- **Display_Offset (UI显示值)**：玩家在 VTD 仪表上看到的偏移量

#### 14.4.2 迷路/幻觉实现

- **正常状态**：`Display = True`
- **迷路状态**：`Display = True - 偏差值(Bias)`
- **玩家操作**：玩家操作 VTD 试图让 Display 归零，实际上是在把 True 越推越远，直到根据文本提示修正 Bias。

### 14.5 注意事项与潜在坑 (Precautions)

在开发过程中需特别注意以下几点：

#### 14.5.1 接缝平滑性 (C1 Continuity)

在生成地图数据时，必须确保 **下一段路的起点切线 ($P_1 - P_0$) 与 上一段路的终点切线 ($P_3 - P_2$) 方向一致**。否则玩家经过连接处时相机和模型会瞬间"折断"或跳变。

#### 14.5.2 跨路段逻辑 (Cross-Segment Logic)

移动代码必须处理"溢出"：
- 当 `LocalDistance > SegmentLength` 时，`SegmentIndex++`
- 将多余的距离赋值给下一段的 `LocalDistance`

#### 14.5.3 视觉遮挡 (Visual Occlusion)

对于盘山路（螺旋结构），上层路会遮挡下层路，或下层路干扰视觉。

**解法**：
- 利用高度差带来的动态雾效 (Fog) 隐藏下方路段
- 或使用剔除算法

#### 14.5.4 法线方向 (Banking)

计算横向偏移时，要使用曲线的"副法线" (Binormal)，确保玩家是贴合路面平移，而不是无脑沿世界 X 轴移动（否则在斜坡上会穿模）。

### 14.6 总结性工作流 (Recommended Workflow)

#### 14.6.1 配置阶段

策划在 JSON/ScriptableObject 中配置路段块（长度、弯曲、事件）。

#### 14.6.2 生成阶段

游戏启动时，生成器根据配置计算出所有路段的贝塞尔控制点。

#### 14.6.3 游戏循环

**Update 循环**：
1. 读取输入
2. 更新局部坐标 $(SegID, LocalD, Offset)$
3. 越界检查
4. 生死判定

**LateUpdate 循环**：
1. 根据局部坐标计算世界坐标
2. 更新模型位置与相机

### 14.7 技术方案总结

这个方案在以下三个方面取得了最佳平衡：

- **技术难度**：不需要高深物理引擎，基于数学公式即可实现
- **工作量**：配表即可生成地图，开发效率高
- **设计还原度**：完美支持 UI 欺诈和环境压迫感，完全符合 GDD 设计目标