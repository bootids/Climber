-----

# 游戏设计文档 (GDD)：攀登者 (The Climber)

## 文档信息

  * **版本号**： v3.0 (Ultimate / 终极版)
  * **日期**： 2025-11-23
  * **文档类型**： 核心设计与需求规格说明书 (Core Design & Tech Specs)
  * **核心体验**： 步数驱动的 Roguelike 生存 + 故障美学导航 + 季节轮回挑战

-----

## 0\. 核心名词解释 (Glossary & Key Concepts)

为了确保开发团队（程序/策划/美术）理解一致，以下定义为项目的底层公理：

  * **虚拟走廊 (Virtual Corridor)**： 游戏中的“路”不是一维线条，而是一个具有“宽度”的二维带状区域（带宽）。
  * **横向偏移 (Lateral Offset)**： 玩家相对于“正确路径中心线”的垂直距离。
      * `Offset = 0m`: 安全，位于路中央。
      * `Offset > 5m`: 路边，适合建造玛尼堆。
      * `Offset > 50m`: 危险区，触发滑坠判定或遭遇隐藏事件。
  * **矢量解耦 (Vector Decoupling)**： “迷路”的程序实现方式。此时玩家的 UI 输入指令（前进）与实际逻辑坐标移动方向分离，产生一个 **偏差角 (Heading Error)**。
  * **幻觉渲染 (Ghost Rendering)**： 客户端欺诈机制。在低 SAN 值下，UI 层渲染不存在的路径点，诱导玩家走向深渊。
  * **虚拟轮回 (Virtual Cycle)**： 游戏内的时间流速机制。现实 1 周 = 游戏 1 季节。
  * **逆向激励 (Inverse Incentive)**： 动态数值平衡。环境越恶劣（如冬季），步数兑换汇率越高，收益越丰厚。
  * **黑色方碑 (Black Box)**： 玩家死亡后留下的尸体数据包，是社交互动的核心。
  * **代际继承 (Legacy)**： 死亡不是终结，下一位攀登者可继承前人的部分“基因”与“地图数据”。

-----

## 1\. 游戏概述 (Overview)

### 1.1 核心循环 (Core Loop)

1.  **现实行走**： 玩家积累现实步数。
2.  **资源转化**： 步数兑换氧气、体力或应急爆发（汇率受季节动态影响）。
3.  **虚拟探险**： 在拟真的“故障风”地图指引下推进，对抗天气与地形。
4.  **危机处理**： 处理迷路（矢量解耦）、幻觉、受伤等状态。
5.  **异步社交**： 救援路边的“红色信标”（其他玩家尸体）或交换玛尼堆物资。

### 1.2 合规与安全

  * **GPX 重构**： 参考真实地形但进行非线性坐标偏移，使用化名（如“四姑娘山”→“四姐妹峰”）。
  * **启动警示**： 强制弹窗“严禁模仿游戏行为前往未开发区域”。

-----

## 2\. 视觉与导航系统 (Map & Navigation) - 核心系统

本系统不使用传统小地图，而是模拟一个 **“不可靠的、低电量的战术终端”**。

### 2.1 基础显示 (Normal State)

  * **载体**： 圆形液晶表盘，深色背景，带有动态噪点滤镜。
  * **中心线 (Centerline)**： 绘制一条实线代表正确路径。
  * **玩家光点**： 正常状态下位于中心线上。
  * **海拔剖面 (Elevation Profile)**： 地图下方的小矩形区域，显示 Z 轴波浪线。
  * **体验**： 看到前方巨大的波峰（爬升 1000m）会给玩家带来直观的心理压力。
  * **战争迷雾**： 仅渲染当前路段及下一节点，远处完全黑屏/无信号。

### 2.2 迷路机制：矢量解耦 (The "Getting Lost" Mechanic)

当触发 **[大雾]**、**[磁暴]** 或 **[深林]** 事件时，进入迷路状态：

  * **视觉层**： 地图上的“中心线”淡出或完全消失，只剩玩家光点和一片黑暗。
  * **逻辑层**： 系统生成一个随机的 **偏差角 (Heading Error)** (例如 +30°)。
  * **操作反馈**： 玩家点击“前进”，逻辑坐标不再沿路前进，而是向右偏 30° 移动。
  * **结果**： 玩家的 Lateral Offset 迅速增大（偏离正道）。
  * **修正**： 使用 **[指南针]** 技能 -\> 弹出罗盘小游戏（旋转手机/拨盘） -\> 成功后偏差角归零，中心线重现。

### 2.3 幻觉机制：幽灵分支 (Hallucination)

当 SAN 值 \< 20% 时，触发客户端渲染欺诈：

1.  **生成虚假目标**： 在 Offset +200m (悬崖/深渊) 处生成一个假的目标点 ID。
2.  **渲染幽灵路**： 地图绘制一条虚线连接玩家与该点，标记为“捷径”或“队友信号”。
3.  **诱导后果**： 玩家跟随路线会导致 Offset 达到致死阈值，触发 **[严重滑坠]**。
4.  **破除**： 使用 **[肾上腺素]** 或 **[收听无线电]** 恢复 SAN 值后，虚假路线瞬间消失，玩家发现自己正站在悬崖边。

为了让“幻觉”具有心理恐怖感而非单纯的视觉干扰，我们需要在 UI 和音频上制造“似是而非”的恐怖谷效应。

#### A. UI 动效脚本 (UI Animation Script)

*场景： 玩家 SAN 值 \< 20%，系统决定生成一条通往悬崖的“幽灵分支”。*

| 阶段 | 时间轴 | 视觉表现 (Visuals) | UI 行为 (Behavior) |
| :--- | :--- | :--- | :--- |
| **预兆 (Omen)** | T+0s | 屏幕边缘出现 **色散 (Chromatic Aberration)** 抖动。地图原本清晰的等高线开始像液体一样轻微蠕动。 | 指南针指针瞬间 360° 疯转一圈，然后定格指向错误的方位。 |
| **生成 (Spawn)** | T+2s | 一条虚线从玩家当前位置慢慢“生长”出来。线条风格： 并非系统默认的实线，而是由断断续续的摩斯电码点阵组成的 **红色虚线**。 | 目标点图标不是标准的“旗帜”，而是一个 **闪烁的“篝火”图标**（游戏中不存在此图标），诱导玩家以为那里有温暖。 |
| **诱导 (Lure)** | T+5s | 幽灵路径上浮现文字标签："SHORTCUT" (捷径) 或 "FRIEND" (朋友)，字体带有 **毛刺效果 (Glitch)**，仿佛是信号干扰。 | 距离显示数字开始乱码跳动：200m -\> 1??m -\> HELP -\> 150m。 |
| **破除 (Break)** | 触发修正后 | 屏幕瞬间 **反色闪烁 (Invert Flash)** 一次。红色虚线瞬间炸裂成像素碎片消失。 | 真实的悬崖地形图层瞬间“弹”出来，覆盖原本的幽灵路径。 |

#### B. 声音资源需求列表 (Audio Asset List)

*音频设计的核心是 “听觉空想性错视” (Audio Pareidolia) —— 让玩家在白噪音中“听”到不存在的人声。*

| 文件名 (ID) | 描述 (Description) | 触发条件 | 备注 (Notes) |
| :--- | :--- | :--- | :--- |
| **SFX\_Hallu\_Whisper\_01** | 混合了风声的低语。 听起来像有人在耳边急促地说“这边” (Over here)，但仔细听又只是风吹过岩石的声音。 | SAN \< 20% + 幽灵路径出现时 | 需做 3D 环绕声，声源位置与幽灵路径方向一致。 |
| **SFX\_Fake\_Notification** | 伪造的系统提示音。 与游戏标准的“获得成就/好友上线”音效极度相似，但音调低半个八度，且尾音带有电流撕裂声。 | 随机触发 | 诱导玩家看屏幕，增加焦虑感。 |
| **SFX\_Heartbeat\_Sync** | 心跳与脚步同步音。 玩家每走一步，播放一声沉闷的鼓点，逐渐加速，模拟心跳过速。 | 玩家跟随幽灵路径行走时 | BPM 从 60 渐变至 140。 |
| **SFX\_Tinnitus\_High** | 高频耳鸣音。 尖锐的正弦波声音，由弱渐强，模拟高反缺氧。 | 濒死状态 / 滑坠前 3 秒 | 用来掩盖所有环境音，制造“断片”感。 |

### 2.4 死亡散点 (Death Scatter)

  * **服务器端**： 记录死亡坐标 + 死因造成的 Offset。
      * 力竭：Offset ±2m (路边)。
      * 滑坠：Offset ±50\~200m (深渊底部)。
  * **客户端渲染**： 正常路径很干净，但路径旁的黑色区域（深渊）里，密密麻麻闪烁着红色的死亡信号。

-----

## 3\. 世界结构与动态环境 (World & Environment)

### 3.1 增强型数据结构：图结构 (Graph Structure)

从“线性列表”升级为“有向图”，支持非线性叙事和岔路。

```json
{
  "route_nodes": {
    // 节点：分岔路口
    "node_fork_01": {
      "type": "fork",
      "name": "命运三岔口",
      "description": "左侧是密林，右侧是悬崖。",
      "choices": [
        { "btn_text": "进森林", "target_segment_id": "seg_forest_a" },
        { "btn_text": "爬悬崖", "target_segment_id": "seg_cliff_b", "req_item": "climbing_gear" }
      ]
    },
    // 路段：森林线
    "seg_forest_a": {
      "type": "trek",
      "next_node_id": "node_merge_02",
      "corridor_width": 20, // 道路宽度
      "hazard_threshold": 50, // 偏离50米即死
      "weather_profile": "humid_forest", // 引用气候配置
      "elevation_range": [2800, 2900]
    }
  }
}
```

### 3.2 动态天气矩阵 (Dynamic Weather Matrix)

天气不是写死的，而是由 **[Biomes 地貌]** + **[Elevation 海拔]** 实时计算得出。

  * **配置逻辑**： 独立的 Weather Config Table。
  * **计算流程**：
    1.  读取路段 `weather_profile` (如：高山脊)。
    2.  读取当前海拔 (如：4200m)。
    3.  **降水转化**： 若判定降雨，但海拔 \> 0°C线，自动转化为“雪”；若海拔 \> 暴雪线，转化为“暴风雪”。
  * **实时影响**：
      * **Fog (雾)**: 触发“矢量解耦”概率翻倍。
      * **Blizzard (暴雪)**: 体温每分钟 -5°C，地图显示 "SIGNAL LOST"（雪花屏）。

### 3.3 季节轮回系统 (Seasonal Cycle)

基于 **方案 B**，采用周常轮换制。

  * **时间流速**： 现实 1 周 = 游戏 1 季节。
      * **Week 1 (春)**: 泥泞、多雨。
      * **Week 2 (夏)**: 暴晒、脱水。
      * **Week 3 (秋)**: 狂风、视野最佳（冲分季）。
      * **Week 4 (冬)**: 极寒、暴雪、信号丢失（生存挑战）。
  * **表现**： 大本营色调与地图滤镜随季节即时切换。

-----

## 4\. 经济与数值平衡 (Economy & Balancing)

### 4.1 逆向激励机制 (Inverse Incentive)

  * **动态汇率**： 环境越恶劣，步数越值钱。
      * **春秋（普通）**： 1000 步 = 1000 米物资。
      * **夏冬（困难）**： 1000 步 = 1500 米物资。
  * **季节限定掉落**：
      * **永恒冰晶**： 仅在冬季暴风雪路段掉落。
      * **收集奖励**： 集齐四季晶体解锁传说级装备。

### 4.2 角色属性

通过 **技能树 (Talent Tree)** 和 **专长 (Perks)** 来对抗环境机制。

  * **SAN (理智)**： 核心属性。低于阈值触发“幻觉渲染”。
  * **体温**： 冬季核心生存指标。
  * **体能 (Physique)**: 决定负重上限、耐力条长度。
  * **技巧 (Technique)**: 决定对抗“滑坠”的判定成功率、移动速度。
  * **意志 (Will / SAN)**: 决定 SAN 值上限、对抗“幻觉”的阈值。

#### 生存三角 (The Survival Triangle)

玩家通过升级获得 **基因点 (Gene Points)**，投入三个分支：

**A. 勘探者 (Navigator) - 对抗“迷路”**

  * **Tier 1 [直觉修正]**: 减少“矢量解耦”发生时的最大偏差角（例如从 ±30° 降至 ±15°）。
  * **Tier 2 [星辰定位]**: 即使在黑夜，若无暴风雪，地图中心线不会完全消失，保留隐约残影。
  * **Tier 3 [离线缓存]**: 死亡时，保留 50% 已探索地图的战争迷雾状态给下一代。

**B. 苦行僧 (Ascetic) - 对抗“环境”**

  * **Tier 1 [骆驼胃]**: 饮水效率 +20%，抗脱水时间延长。
  * **Tier 2 [低温休眠]**: 停止移动时，体温下降速度减缓 40%（适合躲避暴风雪）。
  * **Tier 3 [肾上腺素泵]**: 生命值低于 10% 时，获得 30 秒无限体力爆发。

**C. 观测者 (Observer) - 对抗“幻觉”**

  * **Tier 1 [逻辑锚点]**: 能够识别出 30% 的“幽灵分支”（虚假路线会以红色闪烁标记）。
  * **Tier 2 [静默心流]**: SAN 值低于 20% 时，不再听到虚假的求救声（音效干扰移除）。
  * **Tier 3 [真实之眼]**: 主动技能。瞬间清除屏幕上所有的幻觉渲染，冷却 24 小时。

-----

## 5\. 社交系统 (Asynchronous Social)

### 频段广播 (Radio Frequency)

除了被动的玛尼堆，增加主动的弱交互。会在屏幕下方滚动出现模糊的系统日志式弹幕。

  * **正常**： "ID:9527 已抵达 [四姐妹峰] 营地。"
  * **故障**： "ID:UNKNOWN 在你附近 [340m] 处...停止了...心跳..."

### 黑色方碑与救援 (The Black Box)

  * **尸体实体化**： 死亡玩家变成地图上的 **[黑色方碑]**。
  * **救援互动**：
      * **回收 (Salvage)**: 拿走死者背包里的一件遗物（降低自身业力/人品值）。
      * **安葬 (Bury)**: 消耗时间掩埋（获得大量业力，恢复 SAN 值）。
      * **读取日志 (Read Log)**: 能够看到死者死前最后 10 步的路线回放（帮助你避开陷阱）。

### 5.1 玛尼堆 (Cairns)

  * **建造限制**： 只能在 Lateral Offset \< 5m (路边) 建造。
  * **功能**： 放置多余物资、技能经验书，供后来者拾取。

### 5.2 红色信标 (Red Beacons - Rescue)

  * **视觉**： 地图深渊处的红色静止光点。
  * **互动风险**： 玩家必须主动偏离路线 (Increase Offset) 走到光点附近。
  * **救援**： 消耗 **[急救包]**。
  * **奖励**： 极高人品值（Karma）、对方背包里的随机一件遗物。

-----

## 6\. 叙事与动态文案 (Narrative & Dynamic Text) - 优化版

**设计理念**： 文案不再仅仅由 SAN 值决定。系统将引入一个 **“叙事合成器” (Narrative Synthesizer)**，基于 **[季节]** + **[SAN值]** + **[生理状态]** 三个维度实时组合生成文案，模拟人类在极端环境下的思维碎片。

### 6.1 叙事变量矩阵 (The Narrative Matrix)

文案生成公式：
`Output_Text = Season_Tone (基调) + SAN_Filter (滤镜) + Body_Status (生理)`

**维度一：季节基调 (Season Tone) - 决定话题**

  * **春 (湿润/生机)**： 关键词：烂泥、虫子、发霉、复苏。
  * **夏 (燥热/极昼)**： 关键词：口渴、太阳黑子、燃烧、这种光亮令人恶心。
  * **秋 (萧瑟/风)**： 关键词：枯叶、风哨、干燥、孤独。
  * **冬 (极寒/熵减)**： 关键词：冻僵、晶体、白色、永恒、睡意。

**维度二：SAN 值滤镜 (SAN Filter) - 决定语气**

  * **理智 (Rational)**: 客观、战术化、短句。（“气温-10度，需寻找掩体。”）
  * **偏执 (Paranoid)**: 怀疑环境、拟人化、充满敌意。（“风在针对我。雪想以此掩盖什么。”）
  * **谵妄 (Delirious)**: 逻辑崩坏、诗意化、认知错乱。（“星星是热的。雪是甜的。”）

### 6.2 动态文案组合示例 (Examples)

以下展示同一个场景（玩家在暴风雪中行走），在不同状态下的文案差异：

**场景 A：冬季 + 高 SAN (正常) + 身体健康**

  * **系统日志**： "外部气温 -25°C。暴风雪等级 3。能见度不足 10 米。建议立即寻找背风坡扎营。"
  * **解析**：标准的登山辅助终端风格。

**场景 B：冬季 + 低 SAN (偏执) + 轻微失温**

  * **系统日志**： "这也太安静了。雪停了吗？不，它们在屏住呼吸。如果你停下来，它们就会把你埋起来。那块石头看起来像上一队的杰克...他在看我吗？"
  * **解析**：开始怀疑环境，出现轻微的受迫害妄想。

**场景 C：夏季 + 极低 SAN (谵妄) + 严重脱水 (中暑)**

  * **系统日志**： "太阳好吵。金色的蝉在血管里爬。把水壶扔了吧，太重了，反正云彩也是棉花糖做的。我想脱掉外套，这里像个烤箱... 或者子宫。"
  * **解析**：典型的“反常脱衣现象”（冻死/热死前的幻觉），逻辑错乱，危险的自我毁灭暗示。

**场景 D：春季 + 中等 SAN + 腿部受伤**

  * **系统日志**： "泥泞。每一步都像被大地咬住了一口。伤口里好像长出了苔藓。这就是春天的代价吗？别看脚下，看前面。"
  * **解析**：将身体的痛楚与季节特征（泥泞、生长）结合，产生由于感染带来的身体恐怖感。

### 6.3 交互文案的动态篡改 (Dynamic UI Text)

当 SAN \< 10% (濒死/崩溃) 时，UI 上的功能性文本将根据 **[季节]** 发生恶意篡改：

| 原按钮功能 | 冬季 (冻死幻觉) | 夏季 (热射病幻觉) | 备注 |
| :--- | :--- | :--- | :--- |
| **[使用急救包]** | "拆开礼物" | "献祭" | 即使点击，效果可能减半或失败 |
| **[睡觉/休息]** | "长眠" / "加入冰雪" | "融化" / "蒸发" | 暗示死亡的诱惑 |
| **[丢弃物品]** | "埋葬过去" | "烧掉它" | 增加操作的沉重感 |
| **[查看地图]** | "看那片白色" | "直视太阳" | 地图可能全白或全红 |

-----

## 7\. 死亡与继承机制 (Death & Legacy) - 新增

这是 Roguelike 的核心循环，死亡必须具有重量感，但不能让玩家流失。

### 7.1 死亡处理 (The Moment of Death)

  * **黑屏切断**： 屏幕瞬间黑屏，模拟信号中断。
  * **黑匣子报告 (Black Box Report)**： 打印出一张类似热敏纸的清单：
      * 存活时间：14 天 03 小时
      * 最终坐标：N 32° / E 103° (Offset +120m)
      * 死因：失温 (Hypothermia)
  * **遗言录入**： 允许玩家输入 10 个字，留给发现尸体的人。

### 7.2 代际继承 (Inheritance)

玩家创建一个“新登山者”开始游戏，但并非从零开始：

  * **物资遗失**： 背包里的食物、水、消耗品全部丢失（留在上一代的尸体里）。
  * **装备保留**： 已解锁的永久装备（如高级登山杖、Gore-Tex外套）保留。
  * **地图数据**：
      * 完全探索过的区域变为“灰色”（已知地形，但无实时视野）。
      * 上一代死亡地点会被高亮标记为 **[复仇点]**。
  * **基因点 (XP)**： 结算获得的基因点数，用于在新开局前升级技能树。

-----

## 8\. 运营与活动 (LiveOps)

  * **死亡热力图 (Death Heatmap)**：
      * 开发者后台生成全服死亡热力图。
      * **每周重置**： 如果某路段死亡人数过多（热力图变红），系统自动在该区域生成一个 **[幽灵救援队]** NPC，提供临时补给（作为动态难度调节）。
  * **登山年 (Mountaineering Year)**： 每 4 周为一个完整赛季，结算发放年度徽章。
  * **现实同步 (Reality Sync)**： 在冬至/大暑等特定日期，开启限时 3 天的“现实拟真模式”（游戏天气强制同步当地真实天气），奖励绝版节气皮肤。
